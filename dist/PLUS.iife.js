var PLUS=function(r){"use strict";let d;const c={},a={},h=["EditorUndo","EditorRedo","EditorPreview","EditorExitPreview"];function C(e,t){if(typeof t=="function"&&(c[e]?c[e].push(t):c[e]=[t],!a[e])){const n=h.includes(e)?e:d+":"+e;a[e]=new BroadcastChannel(n),a[e].onmessage=i=>{c[e].forEach(l=>{l(i.data)})}}}function E(e,t){!c[e]||(typeof t=="function"&&c[e].includes(t)?(c[e].splice(c[e].indexOf(t),1),c[e].length||a[e].close()):(delete c[e],a[e].close(),delete a[e]))}function g(e,t){const n=i=>{t(i),setTimeout(()=>{E(e,n)},0)};C(e,n)}function L(e){d||(d=e)}const P="PLUS:",s=()=>((1+Math.random())*65536|0).toString(16).substring(1),b=()=>s()+s()+"-"+s()+"-"+s()+"-"+s()+"-"+s()+s()+s();function o(e,t,n){const i=b();return postMessage({type:P+e,payload:t,id:i}),typeof n=="function"&&g(i,n),i}function y(e){return new Promise(t=>{if(!e)return t(!1);o("ACCESS:CHECK",{ql:e},n=>{t(n)})})}function w(){return new Promise(e=>{o("ACCESS:CHECK",{ql:"ALL"},t=>{e(t)})})}function I(e=[]){return new Promise(t=>{o("ACCESS:REQUEST",{list:e},n=>{t(n)})})}async function U(e=[]){const t=await w();return!!(e.every(i=>t.includes(i))||(await I(e)).code==0)}const O=()=>Math.random().toString(36).substring(2);function M(e="W"){return e+Math.round((Date.now()-new Date("2020/02/02").getTime())/1e3)+O().substring(0,3)}function k(e="CTT"){return new Promise(t=>{o("DATA:GET",{path:e},n=>{t(n)})})}function R(e="CTT",t={}){return new Promise(n=>{o("DATA:SET",{path:e,payload:t},i=>{n(i)})})}function D(){return new Promise(e=>{o("DATA:GET_CURRENT_STYLE",{payload:{}},t=>{e(t)})})}function G(e){return new Promise(t=>{o("DATA:SET_CURRENT_STYLE",{payload:e},n=>{t(n)})})}function H(e){return new Promise(t=>{o("UI:REGISTER_MODEL_HELPER",{payload:e},n=>{t(n)})})}function _(e){return new Promise(t=>{o("UI:REGISTER_MODEL_TOOLTIP",{payload:e},n=>{t(n)})})}function p(...e){return new Promise(t=>{o("DEBUG:LOG",{value:[...e]},n=>{t(n)})})}function u(e,t,n=""){let i={tag:e};return t instanceof Object?i={tag:e,value:"",...t}:i.value=t,i.hook=n,i}const S={state:{}};function j(e,t,n){return new Function("obj","obj."+t+"="+JSON.stringify(n)+";return obj")(e)}function B(e,t=!0){try{for(const n in e)j(S.state,n,e[n]);return t&&o("STATE:SET",e),!0}catch(n){return console.warn(n),!1}}function T(e){return S.state[e]}let m=!1;function N(e={}){const{state:t={},persisted:n}=e;return new Promise(i=>{if(m)return i(T);o("STATE:INIT",e,l=>{n?S.state=l:S.state=t,m=!0,i(T)})})}function v(){return m=!1,!0}function F(e){return new Promise(t=>{o("STRUCT:INIT",{struct:e},n=>{t(n)})})}const Y={success(e){o("UI:TOAST",{type:"success",message:e})},error(e){o("UI:TOAST",{type:"error",message:e})},info(e){o("UI:TOAST",{type:"info",message:e})},warning(e){o("UI:TOAST",{type:"warning",message:e})},log(e){o("UI:TOAST",{type:"log",message:e})}};function A(e,t){return new Promise(n=>{o("CACHE:"+e,{key:t},i=>{n(i)})})}function f(e,t,n){return new Promise(i=>{o("CACHE:"+e,{key:t,value:n},l=>{i(l)})})}const q={getLocal(e){return A("getLocal",e)},saveLocal(e,t){return f("saveLocal",e,t)},removeLocal(e){return f("removeLocal",e)},getSession(e){return A("getSession",e)},saveSession(e,t){return f("saveSession",e,t)},removeSession(e){return f("removeSession",e)}},K={Container(e,t){return e.children=e.children||[],u("Container",e,t)},Text(e,t){return u("Text",e,t)},Tabs(e,t){return u("Tabs",e,t)},Button(e,t){return u("Button",e,t)},ButtonGroup(e,t){return u("ButtonGroup",e,t)},SwitchItem(e,t){return u("SwitchItem",e,t)},Checkbox(e,t){return u("Checkbox",e,t)},SelectItem(e,t){return u("SelectItem",e,t)},OptionGroup(e,t){return u("OptionGroup",e,t)},InputItem(e,t){return u("InputItem",e,t)},Canvas(e,t){return u("Canvas",e,t)},SliderItem(e,t){return u("SliderItem",e,t)},Divider(){return u("Divider","")},SubHeader(e,t){return u("SubHeader",e,t)},Header(e,t){return u("Header",e,t)},Loading(e,t){return u("Loading",e,t)},Link(e,t){return u("Link",e,t)},Image(e,t){return u("Image",e,t)},Textarea(e,t){return u("Textarea",e,t)},UploadItem(e,t){return u("UploadItem",e,t)},IFstructContainer(e,t){return u("IFstructContainer",e,t)},Code(e,t){return u("Code",e,t)},ColorPicker(e,t){return u("ColorPicker",e,t)}},V="1.0.7";return r.Version=V,r.cache=q,r.call=o,r.checkAccess=y,r.checkAccessList=w,r.components=K,r.genStruct=u,r.getCurrentStyle=D,r.getState=T,r.init=N,r.log=p,r.off=E,r.on=C,r.once=g,r.pullStruct=k,r.registerModelHelper=H,r.registerModelTooltip=_,r.reinit=v,r.render=F,r.requestAccess=I,r.setContext=L,r.setCurrentStyle=G,r.setState=B,r.setStruct=R,r.suid=M,r.toast=Y,r.withAccess=U,Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),r}({});
